<html class="letter-style" dir="ltr">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Java平台，标准版Java语言更新，版本11</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Java Language Updates">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Java Language Updates">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <link rel="alternate" href="java-se-language-updates.pdf" title="PDF File" type="application/pdf">
      <meta name="description" content="">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-09-20T21:33:39-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2017, 2018">
      <meta name="dcterms.category" content="java">
      <meta name="dcterms.identifier" content="E94884-01">
      
      <meta name="dcterms.product" content="en/java/javase/11">
      <meta name="dcterms.release" content="11">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"java","element_name":"Java","display_in_url":true},"suite":{"short_name":"not-applicable","element_name":"Not Applicable","display_in_url":false},"product_group":{"short_name":"not-applicable","element_name":"Not Applicable","display_in_url":false},"product":{"short_name":"javase","element_name":"Java SE","display_in_url":true},"release":{"short_name":"11","element_name":"11","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Java SE Language Updates">
    <meta name="dcterms.isVersionOf" content="LANGUAGE">
  <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" xmlns:htmlutil="http://dita4publishers.org/functions/htmlutil" xmlns:df="http://dita2indesign.org/dita/functions" xmlns:enum="http://dita4publishers.org/enumerables" xmlns:local="http//local/function" xmlns:relpath="http://dita2indesign/functions/relpath" xmlns:dita-ot="http://dita-ot.sourceforge.net/ns/201007/dita-ot" role="alert">
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li class="active" property="itemListElement" typeof="ListItem"></li>
            </ol>
            
            <h2><span>Java平台，标准版</span></h2>
         </header>
         <div class="letterstyle">
            
            <p class="booktitle"><span>Java语言更新</span></p>
            
            <p><span class="revnumber"><span>第11版</span> </span></p>
            <p class="invpartnumber">E94884-01</p>
            <p class="date">2018年9月</p>
            
            <div class="sect3">
               <!-- infolevel="all" infotype="General" --><a name="GUID-8693D1DF-3DE3-4588-ABA8-397C65B4169A" id="GUID-8693D1DF-3DE3-4588-ABA8-397C65B4169A"></a><h3 id="JSLAN-GUID-8693D1DF-3DE3-4588-ABA8-397C65B4169A" class="sect3">Java SE 11的Java语言更改</h3>
               <div>
                  <p>Java SE 11允许您使用<code class="codeph">var</code>标识符声明隐式类型的lambda表达式的形式参数;请参阅<a href="#GUID-7D5FDD65-ACE4-4B3C-80F4-CC01CBD211A4__LOCAL-VARIABLETYPEINFERENCE-9A05B8C1">局部变量类型推断</a> 。
                  </p>
               </div>
            </div>
            
            
            <div class="sect3">
               <!-- infolevel="all" infotype="General" --><a name="GUID-7D5FDD65-ACE4-4B3C-80F4-CC01CBD211A4" id="GUID-7D5FDD65-ACE4-4B3C-80F4-CC01CBD211A4"></a><h3 id="JSLAN-GUID-7D5FDD65-ACE4-4B3C-80F4-CC01CBD211A4" class="sect3">Java SE 10的Java语言更改</h3>
               <div>
                  <p>Java SE 10引入了对从上下文推断局部变量类型的支持，这使得代码更具可读性并减少了所需的样板代码量。</p>
                  <div class="section" id="GUID-7D5FDD65-ACE4-4B3C-80F4-CC01CBD211A4__LOCAL-VARIABLETYPEINFERENCE-9A05B8C1">
                     <p class="subhead1" id="GUID-7D5FDD65-ACE4-4B3C-80F4-CC01CBD211A4__GUID-FDEC7C6D-58FA-4E61-8EB7-2B54254C959F">局部变量类型推断</p>
                     <p>在Java SE 10及更高版本中，您可以使用带有<code class="codeph">var</code>标识符的非null初始化程序声明局部变量，这可以帮助您编写更易于阅读的代码。请考虑以下示例，该示例似乎是多余的并且难以阅读：</p><pre class="pre codeblock"><code>URL url =新网址（“http://www.oracle.com/”）; URLConnection conn = url.openConnection（）; Reader reader = new BufferedReader（new InputStreamReader（conn.getInputStream（）））;</code></pre><p>您可以通过使用<code class="codeph">var</code>标识符声明局部变量来重写此示例。变量的类型是从上下文中推断出来的：</p><pre class="pre codeblock"><code>var url = new URL（“http://www.oracle.com/”）; var conn = url.openConnection（）; var reader = new BufferedReader（new InputStreamReader（conn.getInputStream（）））;</code></pre><p><code class="codeph">var</code>是保留类型名称，而不是关键字，这意味着使用<code class="codeph">var</code>作为变量，方法或包名称的现有代码不受影响。但是，使用<code class="codeph">var</code>作为类或接口名称的代码会受到影响，并且需要重命名类或接口。
                     </p>
                     <p><code class="codeph">var</code>可用于以下类型的变量：</p>
                     <ul xmlns:htmlutil="http://dita4publishers.org/functions/htmlutil" xmlns:df="http://dita2indesign.org/dita/functions" xmlns:enum="http://dita4publishers.org/enumerables" xmlns:local="http//local/function" xmlns:relpath="http://dita2indesign/functions/relpath" xmlns:dita-ot="http://dita-ot.sourceforge.net/ns/201007/dita-ot" style="list-style-type:disc">
                        <li>
                           <p>初始化器的局部变量声明：</p><pre class="pre codeblock"><code>var list = new ArrayList &lt;String&gt;（）; //推断ArrayList &lt;String&gt; var stream = list.stream（）; //推断Stream &lt;String&gt; var path = Paths.get（fileName）; //推断Path var bytes = Files.readAllBytes（path）; //推断bytes []</code></pre></li>
                        <li>
                           <p>增强了<code class="codeph">for</code> -loop索引：</p><pre class="pre codeblock"><code>List &lt;String&gt; myList = Arrays.asList（“a”，“b”，“c”）; for（var element：myList）{...} //推断String</code></pre></li>
                        <li>
                           <p>传统<code class="codeph">for</code>循环中声明的索引变量：</p><pre class="pre codeblock"><code>for（var counter = 0; counter &lt;10; counter ++）{...} //推断int</code></pre></li>
                        <li>
                           <p><code class="codeph">try</code> -with-resources变量：</p><pre class="pre codeblock"><code>try（var input = new FileInputStream（“validation.txt”））{...} //推断FileInputStream</code></pre></li>
                        <li>
                           <p>隐式类型的lambda表达式的形式参数声明：一个lambda表达式，其形式参数具有推断类型，是<span class="italic">隐式类型的</span> ：</p><pre class="pre codeblock"><code>BiFunction &lt;整数，整数，整数&gt; = <span class="bold">（a，b） - &gt; a + b</span> ;</code></pre><p>在Java SE 11及更高版本中，您可以使用<code class="codeph">var</code>标识符声明隐式类型化lambda表达式的每个形式参数：</p><pre class="pre codeblock"><code>（var a，var b） - &gt; a + b;</code></pre><p>因此，隐式类型的lambda表达式中的形式参数声明的语法与局部变量声明的语法一致。请注意，将<code class="codeph">var</code>标识符应用于隐式类型的lambda表达式中的每个形式参数与完全不使用<code class="codeph">var</code>具有相同的效果。
                           </p>
                           <p>您不能在隐式类型的lambda表达式中混合使用推断的形式参数和<code class="codeph">var</code> -declared形式参数，也不能在显式类型的lambda表达式中混合<code class="codeph">var</code> -declared形式参数和清单类型。以下示例不允许：</p><pre class="pre codeblock"><code>（var x，y） - &gt; x.process（y）//无法混合var和推断的形式参数//在隐式类型的lambda表达式中（var x，int y） - &gt; x.process（y）//不能混合var和显式类型//在显式类型的lambda表达式中</code></pre></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            
            
            <div class="sect3">
               <!-- infolevel="all" infotype="General" --><a name="GUID-B06D7006-D9F4-42F8-AD21-BF861747EDCF" id="GUID-B06D7006-D9F4-42F8-AD21-BF861747EDCF"></a><h3 id="JSLAN-GUID-B06D7006-D9F4-42F8-AD21-BF861747EDCF" class="sect3">Java SE 9的Java语言更改</h3>
               <div>
                  <p>Java平台标准版（Java SE）9的主要变化是Java平台模块系统的引入。</p>
                  <p>Java Platform模块系统引入了一种新的Java编程组件，即模块，它是一个命名的，自描述的代码和数据集合。它的代码被组织为一组包含类型的包，即Java类和接口;其数据包括资源和其他类型的静态信息。模块可以导出或封装包，并且它们明确表示对其他模块的依赖性。</p>
                  <p>要了解有关Java Platform模块系统的更多信息，请参阅OpenJDK上的<a href="http://openjdk.java.net/projects/jigsaw/" target="_blank">Project Jigsaw</a> 。</p>
                  <p>除了新的模块系统之外，还对Java语言进行了一些更改。本指南的其余部分描述了这些更改。</p>
               </div>
            </div>
            
            
            <div class="sect4">
               <!-- infolevel="all" infotype="General" --><a name="GUID-A920DB06-0FD1-4F9C-8A9A-15FC979D5DA3" id="GUID-A920DB06-0FD1-4F9C-8A9A-15FC979D5DA3"></a><h4 id="JSLAN-GUID-A920DB06-0FD1-4F9C-8A9A-15FC979D5DA3" class="sect4">更简洁的资源尝试声明</h4>
               <div>
                  <p>如果您已将资源作为<code class="codeph">final</code>或有效的<code class="codeph">final</code>变量，则可以在<code class="codeph">try-with-resources</code>语句中使用该变量，而无需声明新变量。<span class="q">“有效最终”</span>变量是在初始化后其值永远不会改变的变量。
                  </p>
                  <p>例如，您声明了这两个资源：</p><pre class="pre codeblock"><code>//最终资源最终资源资源1 =新资源（“resource1”）; //有效的最终资源Resource resource2 = new Resource（“resource2”）;</code></pre><p>在Java SE 7或8中，您将声明新变量，如下所示：</p><pre class="pre codeblock"><code>try（资源r1 = resource1;资源r2 = resource2）{...}</code></pre><p>在Java SE 9中，您不需要声明<code class="codeph">r1</code>和<code class="codeph">r2</code> ：</p><pre class="pre codeblock"><code>// Java SE 9中新增和改进的try-with-resources语句try（resource1; resource2）{...}</code></pre><p><span>Java教程（Java SE 8及更早版本）中</span>有一个更完整<a href="https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html" target="_blank">的try-with-resources语句</a>描述。
                  </p>
               </div>
            </div>
            
            
            <div class="sect4">
               <!-- infolevel="all" infotype="General" --><a name="GUID-16A5183A-DC0D-4A96-B9D8-AAC9671222DD" id="GUID-16A5183A-DC0D-4A96-B9D8-AAC9671222DD"></a><h4 id="JSLAN-GUID-16A5183A-DC0D-4A96-B9D8-AAC9671222DD" class="sect4">Java SE 9中的小语言更改</h4>
               <div>
                  <p>Java SE 9中有几个小的语言更改。</p>
                  <div class="section">
                     <p class="subhead1" id="GUID-16A5183A-DC0D-4A96-B9D8-AAC9671222DD__GUID-60B76D47-6CC4-4FBD-9446-452E0504B942">私有实例方法允许使用@SafeVarargs注释。</p>
                     <p>@SafeVarargs注释只能应用于无法覆盖的方法。这些包括静态方法，最终实例方法，以及Java SE 9中的新方法，私有实例方法。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead1" id="GUID-16A5183A-DC0D-4A96-B9D8-AAC9671222DD__GUID-FB7BF2BA-1960-4D3B-AC2A-8F1C9F2F6C0A">您可以将菱形语法与匿名内部类一起使用。</p>
                     <p>可以在Java程序中编写的类型（如<code class="codeph">int</code>或<code class="codeph">String</code> ）称为可表示类型。无法在Java程序中编写的编译器内部类型称为非可表示类型。
                     </p>
                     <p>由于钻石操作员使用的推断，可以出现不可表示的类型。因为使用带有匿名类构造函数的菱形的推断类型可能在类文件中签名属性支持的类型集之外，所以在Java SE 7中不允许使用具有匿名类的菱形。</p>
                     <p>在Java SE 9中，只要推断类型是可表示的，就可以在创建匿名内部类时使用菱形运算符。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead1" id="GUID-16A5183A-DC0D-4A96-B9D8-AAC9671222DD__GUID-E96F43D7-8932-46BB-9091-EFC01008BBE9">下划线字符不是合法名称。</p>
                     <p>如果使用下划线字符（ <span class="q">“_”</span> ）作为标识符，则无法再编译源代码。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead1" id="GUID-16A5183A-DC0D-4A96-B9D8-AAC9671222DD__GUID-7A3B4BE9-BBD5-4DD7-A3A2-9E85C7526A98">支持专用接口方法。</p>
                     <p>支持专用接口方法。这种支持允许接口的非抽象方法在它们之间共享代码。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            
            
            <div class="sect3">
               <!-- infolevel="all" infotype="General" --><a name="GUID-E409CC44-9A8F-4043-82C8-6B95CD939296" id="GUID-E409CC44-9A8F-4043-82C8-6B95CD939296"></a><h3 id="JSLAN-GUID-E409CC44-9A8F-4043-82C8-6B95CD939296" class="sect3">文档可访问性</h3>
               <div>
                  <p></p>
                  <p>有关Oracle对可访问性的承诺的信息，请访问Oracle Accessibility Program网站<a href="http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=docacc" target="_blank">http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=docacc</a> 。</p>
                  <div class="section" id="GUID-E409CC44-9A8F-4043-82C8-6B95CD939296__GUID-D88DC1A6-B2C8-4B61-85D2-23B0215F1664">
                     <p class="subhead1" id="GUID-E409CC44-9A8F-4043-82C8-6B95CD939296__GUID-C09CA7BE-D07E-4AA0-B42A-8D7427CA200B">访问Oracle支持</p>
                     <p>已购买支持的Oracle客户可通过My Oracle Support获得电子支持。有关信息，请访问<a href="http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=info" target="_blank">http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=info</a>或访问<a href="http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=trs" target="_blank">http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=trs</a>听力受损。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            
         </div>
         
         <hr>
         <div class="notices">
            <p>Java平台，标准版Java语言更新，版本11</p>
            <p>E94884-01</p>
            
            <p>版权所有©2017,2018，Oracle和/或其附属公司。版权所有。
          </p>
            <div>
               <div>
                  <p>描述Java SE 9及后续版本中的更新语言功能。</p>
               </div>
            </div>
            <div>
               <div>
                  <p>本软件和相关文档根据许可协议提供，其中包含对使用和披露的限制，并受知识产权法保护。除非您的许可协议中明确允许或法律允许，否则您不得以任何形式使用，复制，复制，翻译，广播，修改，许可，传输，分发，展示，执行，发布或展示任何部分，或以任何方式。除非法律要求互操作性，否则禁止对该软件进行逆向工程，反汇编或反编译。</p>
                  <p>此处包含的信息如有更改，恕不另行通知，并且不保证没有错误。如果您发现任何错误，请以书面形式向我们报告。</p>
               </div>
            </div>
            <div>
               <div>
                  <p>如果这是交付给美国政府的软件或相关文档或代表美国政府许可的任何人，则以下通知适用：</p>
                  <p>美国政府最终用户：根据适用的联邦采购法规和代理机构，Oracle计划，包括任何操作系统，集成软件，安装在硬件上的任何程序和/或文档，都是“商业计算机软件”。具体的补充规定。因此，程序的使用，复制，披露，修改和调整，包括任何操作系统，集成软件，安装在硬件上的任何程序和/或文档，应受适用于程序的许可条款和许可限制的约束。 。没有其他权利授予美国政府。</p>
               </div>
            </div>
            <div>
               <div>
                  <p>该软件或硬件被开发用于各种信息管理应用中的一般用途。它不是为任何本质上危险的应用而开发或打算使用的，包括可能造成人身伤害风险的应用。如果您在危险应用程序中使用此软件或硬件，则您应负责采取所有适当的故障安全，备份，冗余和其他措施，以确保其安全使用。Oracle Corporation及其附属公司对因在危险应用中使用此软件或硬件而造成的任何损害不承担任何责任。</p>
               </div>
            </div>
            <div>
               <div>
                  <p>Oracle和Java是Oracle和/或其附属公司的注册商标。其他名称可能是其各自所有者的商标。</p>
                  <p>Intel和Intel Xeon是Intel Corporation的商标或注册商标。所有SPARC商标均经许可使用，是SPARC International，Inc。的商标或注册商标.AMD，Opteron，AMD徽标和AMD Opteron徽标是Advanced Micro Devices的商标或注册商标。UNIX是The Open Group的注册商标。</p>
               </div>
            </div>
            <div>
               <div>
                  <p>该软件或硬件和文档可以提供对来自第三方的内容，产品和服务的访问或信息。除非您与Oracle之间的适用协议另有规定，否则Oracle Corporation及其附属公司不对第三方内容，产品和服务的任何形式的保证承担任何责任，并且明确拒绝承担任何形式的保证。Oracle Corporation及其附属公司对由于您访问或使用第三方内容，产品或服务而导致的任何损失，成本或损害不承担任何责任，但您与Oracle之间的适用协议中规定的除外。</p>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>